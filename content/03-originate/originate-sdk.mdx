---
title: With the SDK
description: Originating Assets with the Polymesh SDK
slug: /originate/sdk
---

import {MultiCodeBlock} from 'gatsby-theme-apollo-docs';
import HighlightBox from "../../src/components/HighlightBox"

In the previous exercise, we originated a simple asset, ACME equity. As we did so, we discovered that there are many more configurable properties available to address common business requirements. 

The Polymesh Dashboard is constructed with the SDK. The SDK supports every process you see there, and more. Use the SDK to build integrations with internal systems. 

[SDK documentation](https://developers.polymath.network/classic-sdk/globals).

## Familiar

The SDK is a comprehensive set of business-level methods for inspecting and interacting with the Polymesh network using f Javascript or Typescript, at the developer's discretion.

## Preconditions

We assume that:

* Alice, ACME's acting agent, already has a Polymesh identity.
* A Polymesh client has been [instantiated](https://developers.polymath.network/polymesh-sdk-api-reference/classes/polymesh#static-connect) by Alice so she can perform the following actions:
    <MultiCodeBlock>

    ```typescript
    const apiAlice: Polymesh = await Polymesh.connect({
        "nodeUrl": "wss://pme.polymath.network", // For instance, or the proper network
        "accountMnemonic": "word1 word2 ..."
    });
    ```

    ```javascript
    const apiAlice = await Polymesh.connect({
        "nodeUrl": "wss://pme.polymath.network", // For instance, or the proper network
        "accountMnemonic": "word1 word2 ..."
    });
    ```

    </MultiCodeBlock>

## Ticker reservation

Alice needs to [reserve](https://developers.polymath.network/polymesh-sdk-api-reference/classes/polymesh#reserveticker) the ACME ticker:

<MultiCodeBlock>

```typescript
const reservationQueue: TransactionQueue‹TickerReservation› = await apiAlice.reserveTicker({
    "ticker": "ACME"
});
```

```javascript
const reservationQueue = await apiAlice.reserveTicker({
    "ticker": "ACME"
});
```

</MultiCodeBlock>

The queue is just that, a queue. Notice that it is a generic type specified with `TickerReservation`. This means that the object the queue eventually returns is an instance of `TickerReservation`. Let's [run](https://developers.polymath.network/polymesh-sdk-api-reference/classes/transactionqueue#run) it.

<MultiCodeBlock>

```typescript
const reservation: TickerReservation = await reservationQueue.run();
```

```javascript
const reservation = await reservationQueue.run();
```

</MultiCodeBlock>

It is at this point that the necessary signatures are collected for the transactions. `apiAlice` was created straight with the mnemonic, so the signature will happen automatically. However, if this was taking place in the browser, for instance in the Token dashboard and the Polymesh Wallet extension, then there is a possibility that Alice will refuse to sign when prompted.

<HighlightBox type="tip">

You would need to `try .run() catch` it for errors. Here, we opted for clarity and omitted this _detail_.

</HighlightBox>

Also note that with `await reservationQueue.run()` we patiently wait for the queue to finalise. However any `TransactionQueue` can provide intermediate information about its changing status and that of its component transactions. If this is of interest to you, you can pass callbacks to [`onStatusChange`](https://developers.polymath.network/polymesh-sdk-api-reference/classes/transactionqueue#onstatuschange) and [`onTransactionStatusChange`](https://developers.polymath.network/polymesh-sdk-api-reference/classes/transactionqueue#ontransactionstatuschange).

At this stage, Alice owns the reservation. You can confirm it with the following:

<MultiCodeBlock>

```typescript
const alice: CurrentIdentity = await apiAlice.getCurrentIdentity();
const details: TickerReservationDetails = await reservation.details();
const owner: Identity = details.owner;
assert(owner.did == alice.did);
```

```javascript
const alice = await apiAlice.getCurrentIdentity();
const { owner } = await reservation.details();
assert(owner.did == alice.did);
```

</MultiCodeBlock>

It's important to point out a detail that is not obvious from the few lines of code above. When we created `apiAlice` with `await Polymesh.connect()`, we passed an identifier `accountMnemonic`. The SDK uses that mnemonic to recreate the private key. This private key is not the Polymesh identity proper because Polymesh identities have 1-b primary and secondary keys. When a private key is used to sign a transaction, the associated identity is considered to be the one doing the action. If this is not clear, return the [identity introduction](/introduction/intro-identity).

<HighlightBox type="info">

We wrote `await` in `await apiAlice.getCurrentIdentity()`. We need to do a round trip to the blockchain to discover the identity that the private key is associated with.

</HighlightBox>

## Ticker creation

Now that the ticker is reserved, it is time to issue the security token. Oh wait! The reservation may have happened some time ago and your `const reservation: TickerReservation` instance might no longer be in memory. How do you get it back? Use [getTickerReservation](https://developers.polymath.network/polymesh-sdk-api-reference/classes/polymesh#gettickerreservation):

<MultiCodeBlock>

```typescript
const reservation: TickerReservation = await apiAlice.getTickerReservation({
    "ticker": "ACME"
});
```

```javascript
const reservation = await apiAlice.getTickerReservation({
    "ticker": "ACME"
});
```

</MultiCodeBlock>

You will note that the class `TickerReservation` holds a [`protected context: Context`](https://developers.polymath.network/polymesh-sdk-api-reference/classes/tickerreservation#properties-1). This `context` in turn keeps a [`polymeshApi`](https://developers.polymath.network/polymesh-sdk-api-reference/classes/context#properties-1). In that context we find the implicit knowledge that it is Alice that is requesting the next actions. If it any other identity asks for the reservation, they will not be able to `.createToken` because they do not own the reservation.

With our `reservation` in memory, we now can:

<MultiCodeBlock>

```typescript
const tokenQueue: TransactionQueue<SecurityToken> = await reservation.createToken({
    "name": "ACME Co",
    "tokenType": KnownTokenType.EquityPreferred,
    "isDivisible": false,
    "totalSupply": new BigNumber("100000")
});
```

```javascript
const tokenQueue = await reservation.createToken({
    "name": "ACME Co",
    "tokenType": "EquityPreferred",
    "isDivisible": false,
    "totalSupply": new BigNumber("100000")
});
```

</MultiCodeBlock>

We have another queue, so as we did before:

<MultiCodeBlock>

```typescript
const token: SecurityToken = await tokenQueue.run();
```

```javascript
const token = await tokenQueue.run();
```

</MultiCodeBlock>

Implicit in the creation of this token is that Alice is both the token's owner and its primary issuance agent (PIA). We are satisfied with this situation. Alice is not yet a holder of any amount of the security token.  We address that concern in the next chapter, "Distribution".

## Links

- SDK: https://developers.polymath.network/classic-sdk/globals
